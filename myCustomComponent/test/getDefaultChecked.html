<!DOCTYPE html>
<html>
  <body>
    <h1>JavaScript 数组排序</h1>

    <p>sort() 方法按字母顺序对数组进行排序。</p>

    <button onclick='getDefaultChecked([
      {"plClassId":"1","parentPlClassId":null,"plClassName":"病案首页","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":false,"plClassRemakeFlag":false,"seqNo":0,"compareNum":1,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false},
      {"plClassId":"2","parentPlClassId":null,"plClassName":"死亡报告单","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":false,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false},
      {"plClassId":"3","parentPlClassId":null,"plClassName":"入院记录","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":true,"plClassRemakeFlag":true,"seqNo":0,"compareNum":0,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false},
      {"plClassId":"4","parentPlClassId":null,"plClassName":"诊断分析","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":true,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":[{"plClassId":"13","parentPlClassId":"4","plClassName":"出院记录2","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":true,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":[{"plClassId":"12","parentPlClassId":"13","plClassName":"12名称","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":true,"plClassRemakeFlag":true,"seqNo":0,"compareNum":0,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false}],"isChoose":false,"halfSelected":false,"halfSelected2":false}],"isChoose":false,"halfSelected":false,"halfSelected2":false},
      {"plClassId":"5","parentPlClassId":null,"plClassName":"测试目录5","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":false,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":[{"plClassId":"51","parentPlClassId":"5","plClassName":"测试目录51","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":false,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false}],"isChoose":false,"halfSelected":false,"halfSelected2":false},
      {"plClassId":"90","parentPlClassId":null,"plClassName":"测试90","plClassDefaultPrintFlag":null,"plClassUpLoadFlag":false,"plClassRemakeFlag":false,"seqNo":0,"compareNum":0,"children":null,"isChoose":false,"halfSelected":false,"halfSelected2":false}],
      {
        id: "plClassId",
        children: "children",
        parentId: "parentPlClassId",
        label: "允许上传",
        selected: "plClassUpLoadFlag", //选中标识字段名称
        halfSelected: "halfSelected2", //半选样式标识字段名称
      },true)'>
      试一试
    </button>
    <p id="demo"></p>
    <script>
      var getDefaultChecked = function(nodesList, props, isChildLen) {
        let defaultCheckedList = [];
        for (let node of nodesList) {
          let temp = [];
          if (node.children && node.children.length > 0) {
            temp = getDefaultChecked(node.children, props, isChildLen)
            defaultCheckedList.push.apply(defaultCheckedList, temp)
          } else {
            if (node[props.selected]) {
              defaultCheckedList.push(node[props.id])
            }
          }
        }
        console.log(defaultCheckedList)
        return defaultCheckedList
      };

    </script>
  </body>
</html>
