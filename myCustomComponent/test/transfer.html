<!DOCTYPE html>
<html>
  <body>
    <h1>JavaScript 数组排序</h1>

    <p>sort() 方法按字母顺序对数组进行排序。</p>

    <button onclick="firstMissingPositive([
    { plClassId: '1', parentPlClassId: null, plClassName: '病案首页', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 1, children: null, isChoose: false },
    { plClassId: '2', parentPlClassId: null, plClassName: '死亡报告单', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '0', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false },
    { plClassId: '3', parentPlClassId: null, plClassName: '入院记录', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '0', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false },
    { plClassId: '4', parentPlClassId: null, plClassName: '诊断分析', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: [{ plClassId: '13', parentPlClassId: '4', plClassName: '出院记录2', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: [{ plClassId: '12', parentPlClassId: '13', plClassName: '12名称', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false }], isChoose: false }], isChoose: false },
    { plClassId: '5', parentPlClassId: null, plClassName: '测试目录5', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: [{ plClassId: '51', parentPlClassId: '5', plClassName: '测试目录51', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: null, isChoose: false }], isChoose: false },
    { plClassId: '90', parentPlClassId: null, plClassName: '测试90', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: null, isChoose: false },
  ],'plClassUpLoadFlag')">试一试</button>

    <p id="demo"></p>

    <script>
      // var firstMissingPositive = function(lists, key) {
      //   for (var list of lists) {
      //     list[key] && list[key] === '1' ? list[key] = true : list[key] = false
      //     if (list.children && list.children.length > 0) {
      //       firstMissingPositive(list.children, key)
      //     }
      //   }
      //   console.log(JSON.stringify(lists, null, 4))
      //   return lists
      // };
      var firstMissingPositive = function(lists, key) {
        for (var list of lists) {
          if (list.children) {
            list[key] = list[key] === '1' ? true : false
            firstMissingPositive(list.children, key)
          } else {
            list[key] = list[key] === '1' ? true : false
          }
        }
        console.log(JSON.stringify(lists, null, 4))
        return lists
      };

    </script>
  </body>
</html>
