<!DOCTYPE html>
<html>
  <body>
    <h1>JavaScript 数组排序</h1>

    <p>sort() 方法按字母顺序对数组进行排序。</p>

    <button onclick="firstMissingPositive([
    { plClassId: '1', parentPlClassId: null, plClassName: '病案首页', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 1, children: null, isChoose: false },
    { plClassId: '2', parentPlClassId: null, plClassName: '死亡报告单', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '0', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false },
    { plClassId: '3', parentPlClassId: null, plClassName: '入院记录', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '0', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false },
    { plClassId: '4', parentPlClassId: null, plClassName: '诊断分析', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: [{ plClassId: '13', parentPlClassId: '4', plClassName: '出院记录2', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: [{ plClassId: '12', parentPlClassId: '13', plClassName: '12名称', plClassDefaultPrintFlag: null, plClassUpLoadFlag: '1', plClassRemakeFlag: '0', seqNo: 0, compareNum: 0, children: null, isChoose: false }], isChoose: false }], isChoose: false },
    { plClassId: '5', parentPlClassId: null, plClassName: '测试目录5', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: [{ plClassId: '51', parentPlClassId: '5', plClassName: '测试目录51', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: null, isChoose: false }], isChoose: false },
    { plClassId: '90', parentPlClassId: null, plClassName: '测试90', plClassDefaultPrintFlag: null, plClassUpLoadFlag: null, plClassRemakeFlag: null, seqNo: 0, compareNum: 0, children: null, isChoose: false },
  ],'children')">
      试一试
    </button>
    <p id="demo"></p>
    <script>
      var firstMissingPositive = function(nodesList, children) {
        var flatArray = [];
        for (var node of nodesList) {
          let childrenNode = []
          if (node.children && node.children.length > 0) {
            childrenNode = firstMissingPositive(node.children, children);
          }
          flatArray.push.apply(flatArray, childrenNode)
          flatArray.push(node);
        }
        console.log(JSON.stringify(flatArray));
        return flatArray;
      };

    </script>
  </body>
</html>
